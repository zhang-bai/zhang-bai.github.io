<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">



<title>pytorch learning | Blog</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


</head>
<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Bai&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>

        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">Bai&#39;s Blog</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">pytorch learning</h1>
            
                <div class="post-meta">
                    

                    
                        <span class="post-time">
                        Date: <a href="#">October 8, 2019&nbsp;&nbsp;1:10:29</a>
                        </span>
                    
                    
                        <span class="post-category">
                    Category:
                            
                                <a href="/categories/course/">course</a>
                            
                        </span>
                    
                </div>
            
        </header>

        <div class="post-content">
            <p>[TOC]</p>
<h1 id="一、torch-文档"><a href="#一、torch-文档" class="headerlink" title="一、torch 文档"></a>一、torch 文档</h1><h3 id="一-、-torch"><a href="#一-、-torch" class="headerlink" title="(一)、 torch"></a>(一)、 torch</h3><h4 id="1-创建操作"><a href="#1-创建操作" class="headerlink" title="1.创建操作"></a>1.创建操作</h4><h5 id="from-numpy"><a href="#from-numpy" class="headerlink" title="from_numpy"></a><strong>from_numpy</strong></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">torch.from_numpy(ndarray) → Tensor</span><br></pre></td></tr></table></figure>

<p>Numpy桥，将<code>numpy.ndarray</code> 转换为pytorch的 <code>Tensor</code>。 返回的张量tensor和numpy的ndarray共享同一内存空间。修改一个会导致另外一个也被修改。返回的张量不能改变大小。</p>
<p>例子:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = numpy.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>t = torch.from_numpy(a)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>t</span><br><span class="line">torch.LongTensor([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>t[<span class="number">0</span>] = <span class="number">-1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">array([<span class="number">-1</span>,  <span class="number">2</span>,  <span class="number">3</span>])</span><br></pre></td></tr></table></figure>

<h5 id="torch-linspace"><a href="#torch-linspace" class="headerlink" title="torch.linspace"></a><strong>torch.linspace</strong></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">torch.linspace(start, end, steps=<span class="number">100</span>, out=<span class="literal">None</span>) → Tensor</span><br></pre></td></tr></table></figure>

<p>返回一个1维张量，包含在区间<code>start</code> 和 <code>end</code> 上均匀间隔的<code>steps</code>个点。 输出1维张量的长度为<code>steps</code>。</p>
<p>参数:</p>
<ul>
<li>start (float) – 序列的起始点</li>
<li>end (float) – 序列的最终值</li>
<li>steps (int) – 在<code>start</code> 和 <code>end</code>间生成的样本数</li>
<li>out (Tensor, optional) – 结果张量</li>
</ul>
<p>例子:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>torch.linspace(<span class="number">3</span>, <span class="number">10</span>, steps=<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">  <span class="number">3.0000</span></span><br><span class="line">  <span class="number">4.7500</span></span><br><span class="line">  <span class="number">6.5000</span></span><br><span class="line">  <span class="number">8.2500</span></span><br><span class="line"> <span class="number">10.0000</span></span><br><span class="line">[torch.FloatTensor of size <span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>torch.linspace(<span class="number">-10</span>, <span class="number">10</span>, steps=<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="number">-10</span></span><br><span class="line"> <span class="number">-5</span></span><br><span class="line">  <span class="number">0</span></span><br><span class="line">  <span class="number">5</span></span><br><span class="line"> <span class="number">10</span></span><br><span class="line">[torch.FloatTensor of size <span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>torch.linspace(start=<span class="number">-10</span>, end=<span class="number">10</span>, steps=<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="number">-10</span></span><br><span class="line"> <span class="number">-5</span></span><br><span class="line">  <span class="number">0</span></span><br><span class="line">  <span class="number">5</span></span><br><span class="line"> <span class="number">10</span></span><br><span class="line">[torch.FloatTensor of size <span class="number">5</span>]</span><br></pre></td></tr></table></figure>

<hr>
<h5 id="torch-logspace"><a href="#torch-logspace" class="headerlink" title="torch.logspace"></a><strong>torch.logspace</strong></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">torch.logspace(start, end, steps=<span class="number">100</span>, out=<span class="literal">None</span>) → Tensor</span><br></pre></td></tr></table></figure>

<p>返回一个1维张量，包含在区间 10<sup><strong><em>start</em></strong></sup></p>
<p> 和 10<sup><strong><em>end</em></strong></sup></p>
<p>参数: </p>
<ul>
<li>start (float) – 序列的起始点</li>
<li>end (float) – 序列的最终值</li>
<li>steps (int) – 在<code>start</code> 和 <code>end</code>间生成的样本数</li>
<li>out (Tensor, optional) – 结果张量</li>
</ul>
<p>例子:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>torch.logspace(start=<span class="number">-10</span>, end=<span class="number">10</span>, steps=<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"> <span class="number">1.0000e-10</span></span><br><span class="line"> <span class="number">1.0000e-05</span></span><br><span class="line"> <span class="number">1.0000e+00</span></span><br><span class="line"> <span class="number">1.0000e+05</span></span><br><span class="line"> <span class="number">1.0000e+10</span></span><br><span class="line">[torch.FloatTensor of size <span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>torch.logspace(start=<span class="number">0.1</span>, end=<span class="number">1.0</span>, steps=<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">  <span class="number">1.2589</span></span><br><span class="line">  <span class="number">2.1135</span></span><br><span class="line">  <span class="number">3.5481</span></span><br><span class="line">  <span class="number">5.9566</span></span><br><span class="line"> <span class="number">10.0000</span></span><br><span class="line">[torch.FloatTensor of size <span class="number">5</span>]</span><br></pre></td></tr></table></figure>

<h5 id="torch-ones"><a href="#torch-ones" class="headerlink" title="torch.ones"></a><strong>torch.ones</strong></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">torch.ones(*sizes, out=<span class="literal">None</span>) → Tensor</span><br></pre></td></tr></table></figure>

<p>返回一个全为1 的张量，形状由可变参数<code>sizes</code>定义。</p>
<p>参数:</p>
<ul>
<li>sizes (int…) – 整数序列，定义了输出形状</li>
<li>out (Tensor, optional) – 结果张量   例子:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; torch.ones(2, 3)</span><br><span class="line"></span><br><span class="line"> 1  1  1</span><br><span class="line"> 1  1  1</span><br><span class="line">[torch.FloatTensor of size 2x3]</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; torch.ones(5)</span><br><span class="line"></span><br><span class="line"> 1</span><br><span class="line"> 1</span><br><span class="line"> 1</span><br><span class="line"> 1</span><br><span class="line"> 1</span><br><span class="line">[torch.FloatTensor of size 5]</span><br></pre></td></tr></table></figure>

<h5 id="torch-rand"><a href="#torch-rand" class="headerlink" title="torch.rand"></a><strong>torch.rand</strong></h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">torch.rand(*sizes, out=None) → Tensor</span><br></pre></td></tr></table></figure>

<p>返回一个张量，包含了从区间[0,1)的<strong>均匀分布</strong>中抽取的一组随机数，形状由可变参数<code>sizes</code> 定义。</p>
<p>参数:</p>
<ul>
<li>sizes (int…) – 整数序列，定义了输出形状</li>
<li>out (<a href="http://pytorch.org/docs/tensors.html#torch.Tensor" target="_blank" rel="noopener"><em>Tensor</em></a>, <em>optinal</em>) - 结果张量   例子：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; torch.rand(4)</span><br><span class="line"></span><br><span class="line"> 0.9193</span><br><span class="line"> 0.3347</span><br><span class="line"> 0.3232</span><br><span class="line"> 0.7715</span><br><span class="line">[torch.FloatTensor of size 4]</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; torch.rand(2, 3)</span><br><span class="line"></span><br><span class="line"> 0.5010  0.5140  0.0719</span><br><span class="line"> 0.1435  0.5636  0.0538</span><br><span class="line">[torch.FloatTensor of size 2x3]</span><br></pre></td></tr></table></figure>

<h5 id="torch-randn"><a href="#torch-randn" class="headerlink" title="torch.randn"></a><strong>torch.randn</strong></h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">torch.randn(*sizes, out=None) → Tensor</span><br></pre></td></tr></table></figure>

<p>返回一个张量，包含了从<strong>标准正态分布(均值为0，方差为 1，即高斯白噪声)</strong>中抽取一组随机数，形状由可变参数<code>sizes</code>定义。 参数:</p>
<ul>
<li>sizes (int…) – 整数序列，定义了输出形状</li>
<li>out (<a href="http://pytorch.org/docs/tensors.html#torch.Tensor" target="_blank" rel="noopener"><em>Tensor</em></a>, <em>optinal</em>) - 结果张量</li>
</ul>
<p>例子：:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; torch.randn(4)</span><br><span class="line"></span><br><span class="line">-0.1145</span><br><span class="line"> 0.0094</span><br><span class="line">-1.1717</span><br><span class="line"> 0.9846</span><br><span class="line">[torch.FloatTensor of size 4]</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt; torch.randn(2, 3)</span><br><span class="line"></span><br><span class="line"> 1.4339  0.3351 -1.0999</span><br><span class="line"> 1.5458 -0.9643 -0.3558</span><br><span class="line">[torch.FloatTensor of size 2x3]</span><br></pre></td></tr></table></figure>

<h5 id="torch-randperm"><a href="#torch-randperm" class="headerlink" title="torch.randperm"></a><strong>torch.randperm</strong></h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">torch.randperm(n, out=None) → LongTensor</span><br></pre></td></tr></table></figure>

<p>给定参数<code>n</code>，返回一个从<code>0</code> 到<code>n -1</code> 的随机整数排列。</p>
<p>参数:</p>
<ul>
<li>n (int) – 上边界(不包含)</li>
</ul>
<p>例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; torch.randperm(4)</span><br><span class="line"></span><br><span class="line"> 2</span><br><span class="line"> 1</span><br><span class="line"> 3</span><br><span class="line"> 0</span><br><span class="line">[torch.LongTensor of size 4]</span><br></pre></td></tr></table></figure>

<h5 id="torch-arange"><a href="#torch-arange" class="headerlink" title="torch.arange"></a><strong>torch.arange</strong></h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">torch.arange(start, end, step=1, out=None) → Tensor</span><br></pre></td></tr></table></figure>

<p>返回一个1维张量，长度为 <em>f<strong>l</strong>o<strong>o</strong>r</em>((<em>e<strong>n</strong>d<em>−</em>s<strong>t</strong>a<strong>r</strong>t</em>)/<em>s<strong>t</strong>e**p</em>)</p>
<p>。包含从<code>start</code>到<code>end</code>，以<code>step</code>为步长的一组序列值(默认步长为1)。</p>
<p>参数:</p>
<ul>
<li>start (float) – 序列的起始点</li>
<li>end (float) – 序列的终止点</li>
<li>step (float) – 相邻点的间隔大小</li>
<li>out (Tensor, optional) – 结果张量</li>
</ul>
<p>例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>torch.arange(<span class="number">1</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"> <span class="number">1</span></span><br><span class="line"> <span class="number">2</span></span><br><span class="line"> <span class="number">3</span></span><br><span class="line">[torch.FloatTensor of size <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>torch.arange(<span class="number">1</span>, <span class="number">2.5</span>, <span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line"> <span class="number">1.0000</span></span><br><span class="line"> <span class="number">1.5000</span></span><br><span class="line"> <span class="number">2.0000</span></span><br><span class="line">[torch.FloatTensor of size <span class="number">3</span>]</span><br></pre></td></tr></table></figure>

<h4 id="2-索引-切片-连接-换位Indexing-Slicing-Joining-Mutating-Ops"><a href="#2-索引-切片-连接-换位Indexing-Slicing-Joining-Mutating-Ops" class="headerlink" title="2. 索引,切片,连接,换位Indexing,  Slicing, Joining, Mutating Ops"></a>2. 索引,切片,连接,换位Indexing,  Slicing, Joining, Mutating Ops</h4><h3 id="二-、Tensor"><a href="#二-、Tensor" class="headerlink" title="(二)、Tensor"></a>(二)、Tensor</h3><p><code>torch.Tensor</code>是一种包含单一数据类型元素的多维矩阵。</p>
<p>Torch定义了七种CPU tensor类型和八种GPU tensor类型：</p>
<table>
<thead>
<tr>
<th>Data tyoe</th>
<th>CPU tensor</th>
<th>GPU tensor</th>
</tr>
</thead>
<tbody><tr>
<td>32-bit floating point</td>
<td><code>torch.FloatTensor</code></td>
<td><code>torch.cuda.FloatTensor</code></td>
</tr>
<tr>
<td>64-bit floating point</td>
<td><code>torch.DoubleTensor</code></td>
<td><code>torch.cuda.DoubleTensor</code></td>
</tr>
<tr>
<td>16-bit floating point</td>
<td>N/A</td>
<td><code>torch.cuda.HalfTensor</code></td>
</tr>
<tr>
<td>8-bit integer (unsigned)</td>
<td><code>torch.ByteTensor</code></td>
<td><code>torch.cuda.ByteTensor</code></td>
</tr>
<tr>
<td>8-bit integer (signed)</td>
<td><code>torch.CharTensor</code></td>
<td><code>torch.cuda.CharTensor</code></td>
</tr>
<tr>
<td>16-bit integer (signed)</td>
<td><code>torch.ShortTensor</code></td>
<td><code>torch.cuda.ShortTensor</code></td>
</tr>
<tr>
<td>32-bit integer (signed)</td>
<td><code>torch.IntTensor</code></td>
<td><code>torch.cuda.IntTensor</code></td>
</tr>
<tr>
<td>64-bit integer (signed)</td>
<td><code>torch.LongTensor</code></td>
<td><code>torch.cuda.LongTensor</code></td>
</tr>
</tbody></table>
<p><code>torch.Tensor</code>是默认的tensor类型（<code>torch.FlaotTensor</code>）的简称。</p>
<p>每一个张量tensor都有一个相应的<code>torch.Storage</code>用来保存其数据。类tensor提供了一个存储的多维的、横向视图，并且定义了在数值运算。</p>
<blockquote>
<p><strong>！注意：</strong> 会改变tensor的函数操作会用一个下划线后缀来标示。比如，<code>torch.FloatTensor.abs_()</code>会在原地计算绝对值，并返回改变后的tensor，而<code>tensor.FloatTensor.abs()</code>将会在一个新的tensor中计算结果。</p>
</blockquote>
<h5 id="torch-squeeze"><a href="#torch-squeeze" class="headerlink" title="torch.squeeze"></a>torch.squeeze</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">torch.squeeze(input, dim=<span class="literal">None</span>, out=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<p>将输入张量形状中的<code>1</code> 去除并返回。 如果输入是形如(<em>A</em>×1×<em>B</em>×1×<em>C</em>×1×<em>D</em>)，那么输出形状就为： (<em>A</em>×<em>B</em>×<em>C</em>×<em>D</em>)</p>
<p>当给定<code>dim</code>时，那么挤压操作只在给定维度上。例如，输入形状为: (<em>A</em>×1×<em>B</em>), <code>squeeze(input, 0)</code>    将会保持张量不变，只有用<code>squeeze(input, 1)</code>，形状会变成(<em>A</em>×<em>B</em>)。</p>
<blockquote>
<p>注意： 返回张量与输入张量共享内存，所以改变其中一个的内容会改变另一个。</p>
</blockquote>
<p>参数: </p>
<ul>
<li>input (Tensor) – 输入张量</li>
<li>dim (int, optional) – 如果给定，则<code>input</code>只会在给定维度挤压</li>
<li>out (Tensor, optional) – 输出张量</li>
</ul>
<p>例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = torch.zeros(<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x.size()</span><br><span class="line">(<span class="number">2L</span>, <span class="number">1L</span>, <span class="number">2L</span>, <span class="number">1L</span>, <span class="number">2L</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = torch.squeeze(x)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y.size()</span><br><span class="line">(<span class="number">2L</span>, <span class="number">2L</span>, <span class="number">2L</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = torch.squeeze(x, <span class="number">0</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y.size()</span><br><span class="line">(<span class="number">2L</span>, <span class="number">1L</span>, <span class="number">2L</span>, <span class="number">1L</span>, <span class="number">2L</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = torch.squeeze(x, <span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y.size()</span><br><span class="line">(<span class="number">2L</span>, <span class="number">2L</span>, <span class="number">1L</span>, <span class="number">2L</span>)</span><br></pre></td></tr></table></figure>

<h5 id="torch-unsqueeze"><a href="#torch-unsqueeze" class="headerlink" title="torch.unsqueeze"></a>torch.unsqueeze</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">torch.unsqueeze(input, dim, out=None)</span><br></pre></td></tr></table></figure>

<p>返回一个新的张量，对输入的制定位置插入维度 1</p>
<p>注意： 返回张量与输入张量共享内存，所以改变其中一个的内容会改变另一个。</p>
<p>如果<code>dim</code>为<strong>负</strong>，则将会被转化<em>d<strong>i</strong>m</em>+<em>i<strong>n</strong>p<strong>u</strong>t</em>.<em>d<strong>i</strong>m</em>()+1</p>
<p>参数:</p>
<ul>
<li>tensor (Tensor) – 输入张量</li>
<li>dim (int)  – 插入维度的索引</li>
<li>out (Tensor, optional) – 结果张量</li>
</ul>
<blockquote>
<p>若a的维度为（2，3），则a.unsqueeze(1),在第二维增加一个维度，使其维度变为（2，1，3）</p>
<p>如果需要在倒数第二个维度上增加一个维度，那么使用b.unsqueeze(-2)</p>
</blockquote>

        </div>

        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/AI/"># AI</a>
                    
                        <a href="/tags/python/"># python</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
            
            <a class="next" rel="next" href="/2019/10/07/python-数据处理/">python 数据处理</a>
            
        </section>


    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>© Zhang Bai | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>
</body>
</html>
