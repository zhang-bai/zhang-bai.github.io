<!DOCTYPE html>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  
  <title itemprop="name">大创软件设计 | sakura</title>
  
    <link rel="shortcut icon" href="/images/favicon.ico">
  
  <meta http-equiv="x-dns-prefetch-control" content="on">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+SerifMerriweather|Merriweather+Sans|Source+Code+Pro|Ubuntu:400,700|Noto+Serif+SC" media="all">
  <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
  <link rel="stylesheet" id="saukra_css-css" href="/css/style.css" type="text/css" media="all">
  <link rel="stylesheet" href="/css/lib.min.css" media="all">
  <link rel="stylesheet" href="/css/font.css" media="all">
  <link rel="stylesheet" href="/css/insight.css" media="all">
  <link rel="stylesheet" href="/css/jquery.fancybox.min.css" media="all">
  <link rel="stylesheet" href="/css/zoom.css" media="all">
  <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<!--   <link rel="stylesheet" id="saukra_css-css" href="https://2heng.xin/wp-content/cache/autoptimize/css/autoptimize_ad42a61f4c7d4bdd9f91afcff6b5dda5.css
" type="text/css" media="all"> -->
  <script>
  /*Initial Variables*/
  var mashiro_option = new Object();
  var mashiro_global = new Object();
  mashiro_option.NProgressON = true;
  /* 
   * 邮箱信息之类的东西可以填在这里，这些js变量基本都作用于sakura-app.js
   * 这样的设置仅是为了方便在基于PHP开发的主题中设置js变量，既然移植到了Node上，我想或许可以精简这一逻辑吧
   */
  mashiro_option.email_domain = "";
  mashiro_option.email_name = "";
  mashiro_option.cookie_version_control = "";
  mashiro_option.qzone_autocomplete = false;
  mashiro_option.site_name = "一直在减肥的Bai";
  mashiro_option.author_name = "Bai";
  mashiro_option.site_url = "https://zhang-bai.github.io";
  mashiro_option.v_appId = "GyC3NzMvd0hT9Yyd2hYIC0MN-gzGzoHsz";
  mashiro_option.v_appKey = "mgOpfzbkHYqU92CV4IDlAUHQ";
  mashiro_option.mathjax = "1";
  mashiro_option.qq_api_url = "https://api.mashiro.top/qqinfo/"; 
  mashiro_option.qq_avatar_api_url = "https://api.mashiro.top/qqinfo/";

  // mashiro_option.jsdelivr_css_src = "https://cdn.jsdelivr.net/gh/moezx/cdn@3.4.5/css/lib.min.css";
  // mashiro_option.float_player_on = true;

  /*End of Initial Variables*/
  </script>
  <script type="text/javascript">
  var bg = "https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/cover/(1).jpg.webp,https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/cover/(2).jpg.webp,https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/cover/(3).jpg.webp,https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/cover/(4).jpg.webp,https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/cover/(5).jpg.webp,https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/cover/(6).jpg.webp,https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/cover/(7).jpg.webp,https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/cover/(8).jpg.webp".split(",");
  var bgindex = Math.floor(Math.random()*bg.length);
  if (!!window.ActiveXObject || "ActiveXObject" in window) { //is IE?
    alert('朋友，IE浏览器未适配哦~');
  }
  </script>
  <style type="text/css">
  .hljs-ln{border-collapse:collapse}.hljs-ln td{padding:0}.hljs-ln-n:before{content:attr(data-line-number)}
  </style>
  <style type="text/css">.site-top .lower nav{display:block !important;}.author-profile i,.post-like a,.post-share .show-share,.sub-text,.we-info a,span.sitename,.post-more i:hover,#pagination a:hover,.post-content a:hover,.float-content i:hover{color:#FE9600}.feature i,.download,.navigator i:hover,.links ul li:before,.ar-time i,span.ar-circle,.object,.comment .comment-reply-link,.siren-checkbox-radio:checked + .siren-checkbox-radioInput:after{background:#FE9600}::-webkit-scrollbar-thumb{background:#FE9600}.download,.navigator i:hover,.link-title,.links ul li:hover,#pagination a:hover,.comment-respond input[type='submit']:hover{border-color:#FE9600}.entry-content a:hover,.site-info a:hover,.comment h4 a,#comments-navi a.prev,#comments-navi a.next,.comment h4 a:hover,.site-top ul li a:hover,.entry-title a:hover,#archives-temp h3,span.page-numbers.current,.sorry li a:hover,.site-title a:hover,i.iconfont.js-toggle-search.iconsearch:hover,.comment-respond input[type='submit']:hover{color:#FE9600}.comments .comments-main{display:block !important;}.comments .comments-hidden{display:none !important;}background-position:center center;background-attachment:inherit;}
  </style>
</head>
</html>
<body class="page-template page-template-user page-template-page-analytics page-template-userpage-analytics-php page page-id-1297 chinese-font serif isWebKit">
  <div class="scrollbar" id="bar">
  </div>
  <a href="#" class="cd-top faa-float animated"></a>
  <section id="main-container">
    <div class="headertop filter-dot">
  <div id="banner_wave_1"></div>
  <div id="banner_wave_2"></div>
  <figure id="centerbg" class="centerbg">
    <div class="focusinfo no-select">
      <div class="header-tou">
        <a href="https://zhang-bai.github.io">
          <img src="https://cdn.jsdelivr.net/gh/zhang-bai/picture@1.2.1/avatar.jpg">
        </a>
      </div>
      <div class="header-info">
        <p>Stay with you !</p>
        <div class="top-social_v2">
          <li id="bg-pre">
            <img class="flipx" src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/next-b.svg">
          </li>
          
            
              
                <li>
                  <a href="http://github.com/zhang-bai" target="_blank" class="social-github" title="github">
                    <img src="https://cdn.jsdelivr.net/gh/zhang-bai/picture@1.2.1https://raw.githubusercontent.com/zhang-bai/picture/master/github.svg">
                  </a>
                </li>
              
            
          
          <li id="bg-next">
            <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/next-b.svg">
          </li>
        </div>
      </div>
    </div>
  </figure>
  <div id="video-container" style="">
    <video style="object-fit: fill" id="bgvideo" class="video" video-name="" src="" width="auto" preload="auto">
    </video>
    <div id="video-btn" class="loadvideo videolive">
    </div>
    <div id="video-add">
    </div>
    <div class="video-stu">
    </div>
  </div>
  <div class="headertop-down faa-float animated" onclick="headertop_down()">
    <span>
      <i class="fa fa-chevron-down" aria-hidden="true">
      </i>
    </span>
  </div>
</div>
    <div id="page" class="site wrapper">
      <header class="site-header no-select gizle sabit" role="banner">
  <div class="site-top">
    <div class="site-branding">
      <span class="site-title">
        <span class="logolink moe-mashiro">
          <a href="/">
            <span class="sakurasono">一直在减肥的</span>
            <span class="shironeko">Bai</span>
          </a>
        </span>
      </span>
    </div>
    <div class="searchbox search-form-submit">
      <i class="iconfont js-toggle-search iconsearch icon-search">
      </i>
    </div>
    <div id="show-nav" class="showNav mobile-fit">
      <div class="line line1">
      </div>
      <div class="line line2">
      </div>
      <div class="line line3">
      </div>
    </div>
    <div class="lower-cantiner">
      <div class="lower">
        <nav class="mobile-fit-control hide">
          <ul id="menu-new" class="menu">
            
              <li>
                <a href="/">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
                    首页
                  </span>
                </a>
                
              </li>
            
              <li>
                <a href="/archives">
                  <span class="faa-parent animated-hover">
                    <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
                    归档
                  </span>
                </a>
                
                  <ul class="sub-menu">
                    
                      <li>
                        <a href="/categories/AI/">
                          <i class="fa fa-book" aria-hidden="true"></i>
                          人工学习
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/Geophysics/">
                          <i class="fa fa-commenting-o" aria-hidden="true"></i>
                          皇家地探
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/Coding/">
                          <i class="fa fa-code" aria-hidden="true"></i>
                          快乐码畜
                        </a>
                      </li>
                    
                      <li>
                        <a href="/categories/Fun/">
                          <i class="fa fa-file-text-o" aria-hidden="true"></i>
                          自娱自乐
                        </a>
                      </li>
                    
                  </ul>
                
              </li>
            
          </ul>
        </nav>
      </div>
    </div>
  </div>
</header>

      <link rel="stylesheet" type="text/css" href="/css/sharejs.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css">
<div class="pattern-center-blank"></div>

<div id="content" class="site-content">
  <div id="primary" class="content-area">
    <main id="main" class="site-main" role="main">
      <article id="post-1" class="post-1 post type-post status-publish format-standard has-post-thumbnail hentry category-uncategorized">
        <div class="toc"></div>
        <!--<div class="toc-entry-content"><!-- 套嵌目录使用（主要为了支援评论）-->
        
          <header class="entry-header">
            <h1 class="entry-title">大创软件设计</h1>
            <p class="entry-census">&nbsp;·&nbsp;2020-2-4&nbsp;·&nbsp;<span id="busuanzi_value_page_pv"></span>次阅读</p></p>

            <hr>
          </header>
        
        <div class="entry-content">
          <p>[toc]</p>
<h1 id="一、设计背景"><a href="#一、设计背景" class="headerlink" title="一、设计背景"></a>一、设计背景</h1><h1 id="二、各模块设计"><a href="#二、各模块设计" class="headerlink" title="二、各模块设计"></a>二、各模块设计</h1><h2 id="一-、登录模块"><a href="#一-、登录模块" class="headerlink" title="(一)、登录模块"></a>(一)、登录模块</h2><p>在命令行输入<code>guide</code>命令，新建fig文件；使用静态文本（Static Text）作为文本框，使用可编辑文本（Edit Text）获取输入的用户信息，使用放置按钮（Push Button）进行登录。</p>
<h4 id="1-用户名输入框提醒，点击消失"><a href="#1-用户名输入框提醒，点击消失" class="headerlink" title="1.用户名输入框提醒，点击消失"></a>1.用户名输入框提醒，点击消失</h4><p> 输入框内，提醒内容可以很方便的在输入框（可编辑文本）的String属性中提前加入，并更改ForegroundColor属性以调整颜色 </p>
<p> 在ButtonDownFcn函数下，输入以下代码内容： </p>
<pre><code class="matlab">set(hObject,&#39;String&#39;,&#39;&#39;,&#39;Enable&#39;,&#39;on&#39;);
set(hObject,&#39;ForegroundColor&#39;,[0,0,0]);
uicontrol(hObject);
</code></pre>
<p>第一行代码为清空输入框内容；</p>
<p>第二行代码为把字体颜色调成默认的黑色；</p>
<p>第三行代码为继续控制GUI界面。如果少了这一句，当点击输入框时，前两行代码正常执行，提示内容消失，但当键盘开始输入时，输入内容会输入在MATLAB的命令行窗口。</p>
<blockquote>
<p><strong>Callback 与 ButtonDownFcn 的区别</strong></p>
<p>两函数的调用要涉及的另一个用于使能或禁用控件的属性 <strong>Enable</strong>，此属性包含三个可选值：{<strong>on</strong>}、off、inactive，on 为默认属性。当 <strong>Enable</strong> 为 <strong>on</strong> 时，在 Push Button上单击左键时，调用 <strong>Callback</strong> 函数，单击右键时，调用 <strong>ButtonDownFcn</strong> 函数。在 Push Button <strong>周围5像素范围内</strong>单击左键或右键，不论 <strong>Enable</strong> 取何值，都将调用 <strong>ButtonDownFcn</strong> 函数。可见，当 <strong>Enable</strong> 为 <strong>on</strong> 时，可以实现单击左键、右键有不同的响应。 </p>
</blockquote>
<p>获取edit文本中的字符串，代码如下：</p>
<pre><code class="matlab">global a    %其中，global定义的变量必须每个变量一个global，否则无法识别
a=get(handles.edit,&#39;string&#39;);
str2double(a)
msgbox(&#39;afjda;g&#39;,&#39;帮助信息&#39;,&#39;help&#39;)
errordlg(&#39;&#39;,&#39;&#39;,&#39;&#39;)
</code></pre>
<h4 id="2-保护输入密码的显示"><a href="#2-保护输入密码的显示" class="headerlink" title="2.保护输入密码的显示"></a>2.保护输入密码的显示</h4><ul>
<li>方法一：</li>
</ul>
<p>如果不强调一定要用星号来隐藏所输入的密码字符，则可以直接设置Edit Text控件的属性“FontName”来完成密码隐藏功能。</p>
<p>具体地，双击用作输入密码的Edit Text控件，打开其属性设置面板（Property Inspector ），找到属性“FontName”，默认的字体名为“MS Sans Serif”，将字体改为“Symbol”，即可完成密码隐藏功能。</p>
<ul>
<li>方法二：</li>
</ul>
<p>不改变字体，而是通过代码，修改用作输入密码的Edit Text控件的“KeyPressFcn”函数。具体地：</p>
<pre><code class="matlab">global passWord

passWord = get( hObject, &#39;UserData&#39; );
switch eventdata.Key
   case &#39;backspace&#39;
      passWord = passWord( 1:end-1 );
   case &#39;return&#39;
%       uiresume;
      return;
   otherwise
      passWord = [passWord eventdata.Character];
end
set( hObject, &#39;UserData&#39;, passWord );
set( hObject, &#39;String&#39;, char( &#39;*&#39;*sign(passWord) ) );

</code></pre>
<p> 其中 passWord 即为输入的密码字符串 , 该方法唯一不足之处在于，输入密码时，光标始终在左边！ </p>
<h4 id="3-修改左上角标题名称"><a href="#3-修改左上角标题名称" class="headerlink" title="3.修改左上角标题名称"></a>3.修改左上角标题名称</h4><p> 在程序的OpeningFcn函数中加入这么一句命令：</p>
<pre><code class="matlab">set(gcf,&#39;numbertitle&#39;,&#39;off&#39;,&#39;name&#39;,&#39;标题名称&#39;)
</code></pre>
<h4 id="4-登录按钮设置"><a href="#4-登录按钮设置" class="headerlink" title="4.登录按钮设置"></a>4.登录按钮设置</h4><pre><code class="matlab">function pushbutton1_Callback(hObject, eventdata, handles)
% 登录按钮
global cName;
global cCode;
if( ~strcmp(cName,&#39;12345678910&#39;) || ~strcmp(cCode , &#39;971122&#39;) )
    errordlg(&#39;用户名或密码错误&#39;,&#39;错误提醒&#39;,&#39;modal&#39;);
    set(handles.edit2,&#39;string&#39;,&#39;&#39;);
    return;
else
    close;
    GEST;

end
</code></pre>
<p>其中，GEST为登陆后的程序界面<code>GEST.fig</code>文件,close关闭当前登录界面</p>
<h4 id="5-用户信息数据库"><a href="#5-用户信息数据库" class="headerlink" title="5.用户信息数据库"></a>5.用户信息数据库</h4><p>使用cell形式存储，建立mat数据库文件，本软件采用上述唯一账号密码，故略去数据库的建立。</p>
<h4 id="6-插入背景图片"><a href="#6-插入背景图片" class="headerlink" title="6.插入背景图片"></a>6.插入背景图片</h4><pre><code class="matlab">ha=axes(&#39;units&#39;,&#39;normalized&#39;,&#39;pos&#39;,[0 0 1 1]);
uistack(ha,&#39;down&#39;);
ii=imread(&#39;background.jpg&#39;);
image(ii);
colormap gray
set(ha,&#39;handlevisibility&#39;,&#39;off&#39;,&#39;visible&#39;,&#39;on&#39;);
</code></pre>
<h2 id="二-、主窗体设计"><a href="#二-、主窗体设计" class="headerlink" title="(二)、主窗体设计"></a>(二)、主窗体设计</h2><p>包括建立各级子菜单</p>
<h4 id="1-建立按钮中断其他回调，使用waitfor"><a href="#1-建立按钮中断其他回调，使用waitfor" class="headerlink" title="1)建立按钮中断其他回调，使用waitfor"></a>1)建立按钮中断其他回调，使用waitfor</h4><pre><code class="matlab">在将数据添加到表之前，等待用户选中复选框。复选框的 Value 属性在未选中时为 0，在选中时为 1。

t = uitable;
c = uicontrol(&#39;Style&#39;,&#39;checkbox&#39;,&#39;String&#39;,&#39;Add data&#39;);
c.Position = [320 100 80 20];
waitfor(c,&#39;Value&#39;);
t.Data = magic(5);
</code></pre>
<h4 id="2-建立waitbar"><a href="#2-建立waitbar" class="headerlink" title="2)建立waitbar"></a>2)建立waitbar</h4><pre><code class="matlab">h=waitbar(0,&#39;please wait&#39;);
for i=1:1000
    %computation here%
    b=num2str(round(i/10));
     s=[&#39;please wait:&#39; ,b ,&#39;%&#39;];
    waitbar(i/1000,h,s)
end
delete(h);
</code></pre>
<h4 id="3-弹出输入框"><a href="#3-弹出输入框" class="headerlink" title="3)弹出输入框"></a>3)弹出输入框</h4><p>常见用法<br><code>answer = inputdlg(prompt,dlgtitle,numlines,defAns);</code><br>prompt显示内容<br>dlgtitle 标题<br>numlines输入框长度<br>defAns默认输入值<br>answer为输入的数据，以元胞数组的形式储存在里面，而且储存的数据形式都是字符串</p>
<h4 id="4-提问对话框"><a href="#4-提问对话框" class="headerlink" title="4)提问对话框"></a>4)提问对话框</h4><pre><code class="matlab">a = questdlg(&#39;中午吃饭了吗？&#39;,&#39;问题提示&#39;,&#39;Yes&#39;,&#39;No&#39;,&#39;Yes&#39;); 
# 最后一个Yes 表示对话框默认选项，即弹出式，Yes选项会深色显示
button = questdlg(&#39;qstring&#39;,&#39;title&#39;,&#39;str1&#39;,&#39;str2&#39;,&#39;str3&#39;,default) 
</code></pre>
<blockquote>
<h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p><code>button = questdlg(&#39;qstring&#39;)</code> displays a modal dialog box presenting the question <code>&#39;qstring&#39;</code>. The dialog has three default buttons, <strong>Yes</strong>, <strong>No</strong>, and <strong>Cancel</strong>. If the user presses one of these three buttons, <code>button</code> is set to the name of the button pressed. If the user presses the close button on the dialog without making a choice, <code>button</code> is set to the empty string. If the user presses the <strong>Return</strong> key, button is set to <code>&#39;Yes&#39;</code>. <code>&#39;qstring&#39;</code> is a cell array or a string that automatically wraps to fit within the dialog box.</p>
</blockquote>
<p>一行输入框：</p>
<pre><code class="matlab">clc;clear;close all;
answer=inputdlg(&#39;a=？&#39;,&#39;输入&#39;,[1 30],{&#39;5&#39;});
</code></pre>
<p>多行输入框：</p>
<pre><code class="matlab">clc;clear;close all;
answer=inputdlg({&#39;姓名&#39;,&#39;阶数&#39;},&#39;请输入&#39;,[1 30;1 30],{&#39;ABC&#39;,&#39;30&#39;});
peaks(str2num(answer{2}));
msgbox([answer{1},&#39;您好您当前正在执行的是&#39;,&#39;peaks(&#39;,answer{2},&#39;)&#39;]);

</code></pre>
<h2 id="三-、数据导入及存储模块"><a href="#三-、数据导入及存储模块" class="headerlink" title="(三)、数据导入及存储模块"></a>(三)、数据导入及存储模块</h2><h4 id="1-数据导入"><a href="#1-数据导入" class="headerlink" title="1.数据导入"></a>1.数据导入</h4><p>输入格式应包括txt、mat、dat等格式，由于对应于一个函数，打开的文件无法始终保存在工作空间之中，因此传递一个global变量记录文件路径，供其他模块调用。</p>
<pre><code class="matlab">function Untitled_6_Callback(hObject, eventdata, handles)
% 打开文件
[file_name,path_name] = uigetfile({&#39;*.mat&#39;;&#39;*.dat&#39;;&#39;*.txt&#39;},&#39;打开文件&#39;);
%在电脑中查找文件，弹出浏览窗口，‘打开文件’为左上角标题，文件名和路径存储在name和path变量之中，但此时未导入变量
global file_path
file_path = [path_name file_name]
fid = fopen(file_path)
if (fid &gt; 0)
%     h=dialog(&#39;name&#39;,&#39;文件&#39;,&#39;position&#39;,[200 200 200 70]);
%     uicontrol(&#39;parent&#39;,h,&#39;style&#39;,&#39;text&#39;,&#39;string&#39;,&#39;文件打开成功&#39;,&#39;position&#39;,[50 40 120 20],&#39;fontsize&#39;,12);
%     uicontrol(&#39;parent&#39;,h,&#39;style&#39;,&#39;pushbutton&#39;,&#39;position&#39;,[80 10 50 20],&#39;string&#39;,&#39;确定&#39;,&#39;callback&#39;,&#39;delete(gcbf)&#39;);
    msgbox(&#39;文件打开成功&#39;,&#39;文件&#39;,&#39;help&#39;)
else
    h=errordlg(&#39;文件打开失败&#39;,&#39;error&#39;);
end
li = 0;
while ~feof(fid)
    tline = fgetl(fid);
    li = li+1;
end

global line_num
line_num = li


% hObject    handle to Untitled_6 (see GCBO)
% eventdata  reserved - to be defined in a future version of MATLAB
% handles    structure with handles and user data (see GUIDATA)


</code></pre>
<p>当使用load 命令时，若加路径名称，需要使用括号，如 data =  load(‘D:\a.mat’)</p>
<p>此时data 为一个 struct 结构体，若想转换为矩阵，则需要先转换为 cell ,再由cell转换为 mat,具体命令如下：</p>
<pre><code class="matlab">data = cell2mat(struct2cell(load(&#39;a.mat&#39;)));
</code></pre>
<p>判断load 的mat 文件中包含的变量个数：</p>
<pre><code class="matlab">[file_name,path_name] = uigetfile({&#39;*.mat&#39;;&#39;*.dat&#39;;&#39;*.txt&#39;},&#39;打开文件&#39;);
%在电脑中查找文件，弹出浏览窗口，‘打开文件’为左上角标题，文件名和路径存储在name和path变量之中，但此时未导入变量
global file_path
file_path = [path_name file_name]
% d = cell2mat(struct2cell(load(file_path)));
b=whos(&#39;-file&#39;,file_path) # b 为struct 形式，变量个数为n,b的大小为nx1
c=size(b)
sum(c)
</code></pre>
<pre><code class="matlab">%open file
[file_name,path_name] = uigetfile({&#39;*.mat&#39;;&#39;*.dat&#39;;&#39;*.txt&#39;},&#39;打开文件&#39;);
global file_path
file_path = [path_name file_name] ;
global data
if (strcmp(file_name(end-3:end) , &#39;.mat&#39;))
    b=whos(&#39;-file&#39;,file_path);
    c=size(b);
    if(sum(c) ~= 2)
        errordlg(&#39;输入数据应只包含一个变量&#39;,&#39;错误&#39;,&#39;modal&#39;);
        return
    end
end
data = cell2mat(struct2cell(load(file_path))) ;
imagesc(data(:,:,1))
aa = msgbox(&#39;导入成功&#39;,&#39;OK&#39;,&#39;help&#39;);
pause(1)
delete(aa)
</code></pre>
<h4 id="2-文件存储"><a href="#2-文件存储" class="headerlink" title="2.文件存储"></a>2.文件存储</h4><h5 id="1）存储当前窗口图片"><a href="#1）存储当前窗口图片" class="headerlink" title="1）存储当前窗口图片"></a>1）存储当前窗口图片</h5><pre><code class="matlab">function uipushtool3_ClickedCallback(hObject, eventdata, handles)
% 保存图片
[filename,pathname] = uiputfile({&#39;*.jpg&#39;;&#39;*.bmp&#39;;&#39;*.gif&#39;;&#39;*.png&#39;;&#39;*.tif&#39;}, &#39;Write Pic&#39;);
str=[pathname filename];
if str~=0
    saveas(gcf,str);  
end
</code></pre>
<pre><code class="matlab">% --- 文件的保存 ---
    [file,path] = uiputfile(&#39;*.mat&#39;,&#39;Save Mask As&#39;);
    save(strcat(path,file),&#39;mask&#39;);


% --- 创建一个进度条 ---
    wait = waitbar(0.1,&#39;Loading data from disk...&#39;);
    waitbar(0.2,wait);
    waitbar(1.0,wait);
    close(wait);


% --- 在名为display的axes显示图像，然后关闭 ---
    img = imagesc(data, &#39;Parent&#39;,handles.display);
    close img;
</code></pre>
<h5 id="2-保存数据"><a href="#2-保存数据" class="headerlink" title="2)保存数据"></a>2)保存数据</h5><pre><code class="matlab">save(&#39;data.mat&#39;,&#39;a&#39;,&#39;b&#39;)的方式，data.mat是生成的mat文件名，a和b是存入的变量
</code></pre>
<p>保存对当前文件的更改：</p>
<pre><code class="matlab">global file_path
save(file_path,&#39;data&#39;)
msgbox(&#39;文件已保存&#39;,&#39;OK&#39;,&#39;help&#39;)
</code></pre>
<p>文件另存为：</p>
<pre><code class="matlab">[filename,pathname] = uiputfile({&#39;*.mat&#39;;&#39;*.dat&#39;;&#39;*.txt&#39;}, &#39;另存为&#39;);
str=[pathname filename]
save(str,&#39;data&#39;)
msgbox(&#39;文件已保存&#39;,&#39;OK&#39;,&#39;help&#39;)
</code></pre>
<h2 id="四-、正演模块"><a href="#四-、正演模块" class="headerlink" title="(四)、正演模块"></a>(四)、正演模块</h2><h4 id="1-速度模型"><a href="#1-速度模型" class="headerlink" title="1.速度模型"></a>1.速度模型</h4><h5 id="1）marmousi模型"><a href="#1）marmousi模型" class="headerlink" title="1）marmousi模型"></a>1）marmousi模型</h5><p>提供计算好的结果</p>
<h4 id="2-参数设置"><a href="#2-参数设置" class="headerlink" title="2.参数设置"></a>2.参数设置</h4><h4 id="3-波场快照"><a href="#3-波场快照" class="headerlink" title="3.波场快照"></a>3.波场快照</h4><h5 id="暂停-继续-设置"><a href="#暂停-继续-设置" class="headerlink" title="暂停/继续 设置"></a>暂停/继续 设置</h5><p>在<code>开始</code>按钮回调函数中，定义一个global变量<code>val</code>用作开关，其值为0/1；将输出时刻k同样设置为global变量，以传入<code>暂停/继续</code>按钮回调函数中;判断<code>val</code>的值是否为1，否时使用break退出循环。同时，imagesc命令后需要加pause命令才会有动态效果，否则只会生成最后一张图。</p>
<p>由于点击<code>暂停/继续</code>按钮后，不再激活<code>开始</code>按钮的回调函数，故将<code>开始</code>的回调函数复制进该按钮。</p>
<p>下面为<code>暂停/继续</code>的代码：</p>
<pre><code class="matlab">function pushbutton8_Callback(hObject, eventdata, handles)
global val
if(val == 0)       %实现开关作用
    val=1
else
    val = 0
    return;         %此处必须return，否则进入while中的循环，无法退出
end
global k            %使得“继续”命令后能使图像连续，传入参数
global u
global mdd
    [a,b]=meshgrid(0:24:24*383,0:24:24*121);
while(k&lt;=60)
    if (val)
                imagesc(0:24:24*383,0:24:24*121,u(:,:,k),[-1,1])
                 title([&#39;波场快照 第 &#39;,num2str(k*0.02),&#39; s&#39;])
                hold on
                 contour(a,b,mdd,&#39;k&#39;)
                 hold on
                 plot(24*(384)/2,20,&#39;pr&#39;,&#39;MarkerSize&#39;,13)
                 text(24*(384)/2+35,80,&#39;震源&#39;,&#39;FontSize&#39;,11)
                h2=colorbar;
                set(get(h2,&#39;Title&#39;),&#39;string&#39;,&#39;u &#39;);
                colormap(jet)
               k=k+1;
    end
    pause(0.1)
end
</code></pre>
<h5 id="清空当前窗口图像"><a href="#清空当前窗口图像" class="headerlink" title="清空当前窗口图像"></a>清空当前窗口图像</h5><p>使用命令<code>cla(gca);</code></p>
<h5 id="翻页、跳转页面操作"><a href="#翻页、跳转页面操作" class="headerlink" title="翻页、跳转页面操作"></a>翻页、跳转页面操作</h5><p>由于自动放映时，暂停后对k 多加了一个1，采用新增变量page判断是否经过暂停k多加1的过程。</p>
<p>代码如下：</p>
<pre><code class="matlab">function pushbutton5_Callback(hObject, eventdata, handles)
%上一页
global k
global u 
global a 
global b 
global mdd
global val
global page
if(val == 0 &amp;&amp; page == 0)   %判断之前操作是否为暂停
    k=k-1;
    page = 1;
end

if (k==1)
    msgbox(&#39;当前为第一页&#39;,&#39;错误&#39;,&#39;error&#39;);
else
    k=k-1;
     imagesc(0:24:24*383,0:24:24*121,u(:,:,k),[-1,1])
                 title([&#39;波场快照 第 &#39;,num2str(k*0.02),&#39; s&#39;])
                hold on
                 contour(a,b,mdd,&#39;k&#39;)
                 hold on
                 plot(24*(384)/2,20,&#39;pr&#39;,&#39;MarkerSize&#39;,13)
                 text(24*(384)/2+35,80,&#39;震源&#39;,&#39;FontSize&#39;,11)
                h2=colorbar;
                set(get(h2,&#39;Title&#39;),&#39;string&#39;,&#39;u &#39;);
                colormap(jet)
end
</code></pre>
<h4 id="4-合成地震记录"><a href="#4-合成地震记录" class="headerlink" title="4.合成地震记录"></a>4.合成地震记录</h4><p>单炮激发，某个深度下，同一水平层所有时间位移响应构成的二维矩阵</p>
<h4 id="5-模型图"><a href="#5-模型图" class="headerlink" title="5.模型图"></a>5.模型图</h4><h4 id="6-噪声"><a href="#6-噪声" class="headerlink" title="6.噪声"></a>6.噪声</h4><pre><code class="matlab">answer=inputdlg(&#39;噪声幅值&#39;,&#39;input rand noise&#39;,[1 30],{&#39;1&#39;});
a = str2num(answer{1});
global data
[nx,ny,nz]=size(data);
noise = data + a*rand(nx,ny,nz) ;
[filename,pathname] = uiputfile({&#39;*.mat&#39;;&#39;*.dat&#39;;&#39;*.txt&#39;}, &#39;另存为&#39;);
str=[pathname filename]
save(str,&#39;noise&#39;)
msgbox(&#39;文件已保存&#39;,&#39;OK&#39;,&#39;help&#39;)
</code></pre>
<h4 id="7-SVI处理"><a href="#7-SVI处理" class="headerlink" title="7.SVI处理"></a>7.SVI处理</h4><p>新建一个gui 界面，具体实现见SVI模块</p>
<blockquote>
<p>svi原理：</p>
<p>地震炮集记录中，特别是陆地地震数据，<strong>远偏移距数据由于信号能量弱，噪声干扰大</strong>，往往很难得到有效的初至时地震波记录。</p>
<p>​     采用超分辨率地震干涉技术对地震炮集记录进行增强处理，其基本原理是对每一个检波器记录信号利用互相关和卷积方法进行处理。通过数值模拟和实测数据测试，形成一套完整的超分辨率地震干涉处理方法  </p>
</blockquote>
<h2 id="五-、SVI模块"><a href="#五-、SVI模块" class="headerlink" title="(五)、SVI模块"></a>(五)、SVI模块</h2><h5 id="1-窗口化"><a href="#1-窗口化" class="headerlink" title="1.窗口化"></a>1.窗口化</h5><p>从地震记录图中使用鼠标截取窗口进行过滤处理。</p>
<pre><code class="matlab">a=peaks(100);  %a是个二维矩阵
 imagesc(a);      %利用二维矩阵a画图，会生成一个figure窗口

h=imrect(gca)         %运行完这句后，可以在图中框出需要的区域

pos = getPosition(h); %待区域决定后，运行这句就会返回区域的位置和大小
%pos返回的是四个值
%  [xmin ymin width height].
col=round(pos(1)):round(pos(1)+pos(3));  %根据pos计算lie下标
row=round(pos(2)):round(pos(2)+pos(4));    %根据pos计算hang下标
%由于pos返回有小数，用round取整

b=a(row,col);                                                %根据row，col，从a中提取矩阵b

figure
imagesc(b)
</code></pre>
<p>使用鼠标点击提取点坐标</p>
<pre><code class="matlab">function Untitled_7_Callback(hObject, eventdata, handles)
% 选择窗口
figure
global data
imagesc(data(:,:,1))
x1=[];y1=[];
for i =1:4
[a,b] = ginput(1)
hold on
x1=[x1;a];
y1=[y1;b];
plot(a,b,&#39;ro&#39;)
end
plot(x1,y1,&#39;r&#39;)

x2=[];y2=[];
for i =1:4
[c,d] = ginput(1)
hold on
x2=[x2;c];
y2=[y2;d];
plot(c,d,&#39;ro&#39;)
end
plot(x2,y2,&#39;r&#39;)

ax =[x1 y1 x2 y2];
[filename,pathname] = uiputfile({&#39;*.mat&#39;}, &#39;保存坐标&#39;);
str=[pathname filename];
save(str,&#39;ax&#39;)
msgbox(&#39;文件已保存&#39;,&#39;OK&#39;,&#39;help&#39;)
</code></pre>
<p>依据鼠标获取的坐标，使用带通滤波函数，将选取部分保留，其余部分归零，得到窗口。</p>
<pre><code class="matlab">[nt,ng,ns]=size(data);

Normalize=1;        % 0 = no normalization, 1 = CSG normalization, 2 = Trace normalization
bp=0;               % 0 = no bandpass, 1 = do bandpass
lcut=5;
lpass=10;
hpass=80;
hcut=110;
ntr=3;              % number of traces to mute at right and left sides of the shot
mut_r=1;            % Mute around refracted waves  消减附件反射波
tap_size=20;        % Size of taper window around refracted waves, in samples

uper=(1:ng)&#39;;
lower=uper;
uper(:,2)=interp1(uperT(:,1),uperT(:,2),uper(:,1));
lower(:,2)=interp1(lowerT(:,1),lowerT(:,2),lower(:,1));

for is=1:ns   %每个炮点位置 
    pos = is*dx-4;
    cg=data(:,:,is);
    if bp==1
        cg=BandPass(cg,lcut,lpass,hpass,hcut,dt);
    end
    if ntr&gt;0   %震源两侧削弱道数
        st=pos-ntr;     %is为列号，即当前震源位置所在列
        ed=pos+ntr;
        if st&lt;1;st=1;end
        if ed&gt;ng;ed=ng;end
        cg(:,st:ed)=0;
    end
    if Normalize==1 &amp;&amp; max(abs(cg(:)))~=0   %地震记录数据归一化
        cg=cg/max(abs(cg(:)));
    elseif Normalize==2
        for j=1:ng
            if max(abs(cg(:,j)))~=0
                cg(:,j)=cg(:,j)/max(abs(cg(:,j)));
            end
        end
    end
    if mut_r==1    %消减反射波
        uper_1(pos:ng,1)=round(uper(1:ng-pos+1,2));   % ng-is 总列数-图号（震源位置）
        uper_1(1:pos-1,1)=round(flipud(uper(1:pos-1,2)));% 翻转对称性质，地震道关于震源位置对称
        lower_1(pos:ng,1)=round(lower(1:ng-pos+1,2));
        lower_1(1:pos-1,1)=round(flipud(lower(1:pos-1,2)));
        for j=1:ng  %列号
            st=uper_1(j)-tap_size;
            ed=lower_1(j)+tap_size;
            if st&gt;0; cg(1:st,j)=0; end
            if ed&lt;nt; cg(ed:end,j)=0; end   %第j列，st、ed之间的所有行保留，其余清零
            for k=1:tap_size
                st1=st+k-1;
                ed1=ed-k+1;
                if st1&gt;0; cg(st1,j)=cg(st1,j)*k/tap_size; end        %在窗口外围至tap区域，逐渐削弱记录值
                if ed1&lt;nt; cg(ed1,j)=cg(ed1,j)*k/tap_size; end
            end
        end
    end

    data(:,:,is)=cg;
end
</code></pre>
<h5 id="2-关闭指定-figure"><a href="#2-关闭指定-figure" class="headerlink" title="2.关闭指定 figure"></a>2.关闭指定 figure</h5><pre><code class="matlab">figrue(i) %打开第i个图
plot...  画图

colse(figure(i))  % 关闭第i 个图
</code></pre>
<h5 id="3-卷积互相关"><a href="#3-卷积互相关" class="headerlink" title="3.卷积互相关"></a>3.卷积互相关</h5><p>其中，只能处理连续放炮，不能处理间隔几个检波器放炮的情况。</p>
<p>代码：</p>
<p>成果图显示：</p>
<pre><code class="matlab">for i=1:ns
    g=data(:,:,i);
    s=svshot(:,:,i);
    subplot(1,2,1);
    %wigg(g,3,dt,4);
    imagesc(g);
    caxis([-0.1 0.1])
    title([&#39;Original CSG # &#39;,num2str(i)]);
    subplot(1,2,2);
    imagesc(s);
    caxis([-0.1 0.1])
    title([&#39;Super Virtual CSG # &#39;,num2str(i)]);
    pause(0.5);
end

</code></pre>
<h5 id="4-repmat"><a href="#4-repmat" class="headerlink" title="4.repmat"></a>4.repmat</h5><pre><code class="matlab"> repmat Replicate and tile an array.
    B = repmat(A,M,N) or B = repmat(A,[M,N]) creates a large matrix B 
    consisting of an M-by-N tiling of copies of A. If A is a matrix, 
    the size of B is [size(A,1)*M, size(A,2)*N].
</code></pre>
<h1 id="三、测试"><a href="#三、测试" class="headerlink" title="三、测试"></a>三、测试</h1><h1 id="四、打包发布"><a href="#四、打包发布" class="headerlink" title="四、打包发布"></a>四、打包发布</h1><p>命令行输入deploytool</p>
<p>需要matlab运行库的支持，支持库大小为621M , 若选用在线安装，则需再安装500M 运行库在线下载，速度过慢。</p>
<p>第一版完成日期： 2019.10.25</p>

        </div>
        <!-- .entry-content -->
        <div class="single-reward">
          <div class="reward-open">赏
            <div class="reward-main">
              <ul class="reward-row">
                <li class="alipay-code"><img src="https://cdn.jsdelivr.net/gh/zhang-bai/picture@1.2.1undefined"></li>
                <li class="wechat-code"><img src="https://cdn.jsdelivr.net/gh/zhang-bai/picture@1.2.1undefined"></li>
              </ul>
            </div>
          </div>
        </div>
        <div style="text-align:center; width: 100%" class="social-share share-mobile" data-disabled="diandian, tencent"></div>
        <footer class="post-footer">
          <div class="post-lincenses"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="nofollow"><i class="fa fa-creative-commons" aria-hidden="true"></i> 知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a></div>
          <div class="post-tags">
          </div>
          <div class="post-share">
            <div class="social-share sharehidden share-component"></div>
            <i class="iconfont show-share icon-forward"></i>
          </div>
        </footer><!-- .entry-footer -->
      </article>
      <!-- #post-## -->
      <div class="toc" style="background: none;"></div>
      <section class="post-squares nextprev">
        
          
            <div class="post-nepre half previous">
          
            <a href="/2020/02/04/地震作业/" rel="prev">
              <div class="background">
                <img class="lazyload" src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/loader/orange.progress-bar-stripe-loader.svg" data-src="" style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" onerror="imgError(this,3)" src="">
              </div>
              <span class="label">
              Previous Post</span>
              <div class="info">
                <h3>
                地震作业</h3>
                <hr>
              </div>
            </a>
          </div>
        
        
          
            <div class="post-nepre half next">
          
            <a href="/2020/02/04/vi-learning/" rel="next">
              <div class="background">
                <img class="lazyload" src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/loader/orange.progress-bar-stripe-loader.svg" data-src="" style="width: 100%; height: 100%; object-fit: cover; pointer-events: none;" onerror="imgError(this,3)" src="">
              </div>
              <span class="label">
              Next Post</span>
              <div class="info">
                <h3>
                vi learning</h3>
                <hr>
              </div>
            </a>
          </div>
        
      </section>
      
<div id="vcomments"></div>
<script>
  window.onload = function(){
      var valine = new Valine();
      valine.init({
        el: '#vcomments',
        appId: "GyC3NzMvd0hT9Yyd2hYIC0MN-gzGzoHsz",
        appKey: "mgOpfzbkHYqU92CV4IDlAUHQ",
        path: window.location.pathname,
        placeholder: "你是我一生只会遇见一次的惊喜 ..."
      })
  }
</script>

      <section class="author-profile">
        <div class="info" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
          <a href="" class="profile gravatar"><img src="" itemprop="image" alt="" height="70" width="70"></a>
          <div class="meta">
            <span class="title">Author</span>
            <h3 itemprop="name">
            <a href="" itemprop="url" rel="author"></a>
            </h3>
          </div>
        </div>
        <hr>
        <p><i class="iconfont icon-write"></i></p>
      </section>
    </main><!-- #main -->
  </div><!-- #primary -->
</div>



    </div>    
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="请输入关键词..."/>
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            // PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
    <!-- <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 baizhang<br>
      powered_by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer> -->
<footer id="colophon" class="site-footer" role="contentinfo">
  <div class="site-info">
    <div class="footertext">
      <div class="img-preload">
        <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/wordpress-rotating-ball-o.svg">
        <img src="https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/disqus-preloader.svg">
      </div>
      <p style="color: #666666;">&copy 2018</p>
    </div>
    <div class="footer-device">
    <p style="font-family: 'Ubuntu', sans-serif;">
        <span style="color: #b9b9b9;">Theme <a href="https://github.com/honjun/hexo-theme-sakura" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Sakura</a> <i class="iconfont icon-sakura rotating" style="color: #ffc0cb;display:inline-block"></i> by <a href="https://2heng.xin/" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Mashiro</a>&<a href="https://www.hojun.cn/" target="_blank" style="color: #b9b9b9;;text-decoration: underline dotted rgba(0, 0, 0, .1);">Hojun</a>, Powered by Hexo, Hosted by Coding Pages</a>
        </span>
      </p>
    </div>
  </div><!-- .site-info -->
</footer>



<!-- <script src="/js/tocbot.js"></script> -->
<script type="text/javascript" src="/js/lib.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script type="text/javascript" src="/js/InsightSearch.js"></script>
<script type="text/javascript" src="/js/jquery.fancybox.min.js"></script>
<script type="text/javascript" src="/js/zoom.min.js"></script>
<script type="text/javascript" src="/js/sakura-app.js"></script>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine@1.3.4/dist/Valine.min.js'></script>
<script src="/js/botui.js"></script>
<!-- 不蒜子 网页计数器 -->
<script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script> -->
<script type="text/javascript">
/* <![CDATA[ */
if (/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  var Poi = {"pjax":"1","movies":{"url": "https://cdn.jsdelivr.net/gh/honjun/hojun@1.2","name":"Unbroken.mp4","live":"close"},"windowheight":"fixed","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
} else {
  var Poi = {"pjax":"1","movies":{"url": "https://cdn.jsdelivr.net/gh/honjun/hojun@1.2","name":"Unbroken.mp4","live":"open"},"windowheight":"auto","codelamp":"close","ajaxurl":"","order":"asc","formpostion":"bottom"};
}
/* ]]> */

</script>
<script>
$(document).ready(function() {
  if ($(".toc").length > 0 && document.body.clientWidth > 1200) {
    if ($(".pattern-center").length > 0) { //有图的情况
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // 放置目录的容器
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // 正文内容所在
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // 需要索引的标题级别
          headingsOffset: -400,
          scrollSmoothOffset: -85
      });
    } else {
      tocbot.init({
          // Where to render the table of contents.
          tocSelector: '.toc', // 放置目录的容器
          // Where to grab the headings to build the table of contents.
          contentSelector: '.entry-content', // 正文内容所在
          // Which headings to grab inside of the contentSelector element.
          scrollSmooth: true,
          headingSelector: 'h1, h2, h3, h4, h5', // 需要索引的标题级别
          headingsOffset: -85,
          scrollSmoothOffset: -85
      });
    }
    var offsetTop = $('.toc').offset().top - 95;
    window.onscroll = function() {
      var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;
      if (scrollTop >= offsetTop) {
        $('.toc').addClass('toc-fixed');
      } else {
        $('.toc').removeClass('toc-fixed');
      }
    }
  }
});
</script>

    <div class="openNav no-select" style="height: 50px;">
      <div class="iconflat no-select" style="width: 50px; height: 50px;">
        <div class="icon"></div>
      </div>
      <div class="site-branding search-form-submit">
        <i class="iconfont js-toggle-search iconsearch icon-search"></i>
      </div>
    </div>
  </section>
  <div id="mo-nav" class="">
  <div class="m-avatar">
    <img src="https://cdn.jsdelivr.net/gh/zhang-bai/picture@1.2.1/avatar.jpg">
  </div>
  <p style="text-align: center; color: #333; font-weight: 900; font-family: 'Ubuntu', sans-serif; letter-spacing: 1.5px">一直在减肥的Bai</p>
  <p style="text-align: center; word-spacing: 20px;">
    
      
        <a href="http://github.com/zhang-bai" class="fa " target="_blank" style="color: #; margin-left:20px"></a>
      
    
  </p>
  <ul id="menu-new-1" class="menu">
    
      <li>
        <a href="/">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-fort-awesome faa-shake" aria-hidden="true"></i>
            首页
          </span>
        </a>
        
      </li>
    
      <li>
        <a href="/archives">
          <span class="faa-parent animated-hover">
            <i class="fa  fa-archive faa-shake" aria-hidden="true"></i>
            归档
          </span>
        </a>
        
          <ul class="sub-menu">
            
              <li>
                <a href="/categories/AI/">
                  <i class="fa fa-book" aria-hidden="true"></i>
                  人工学习
                </a>
              </li>
            
              <li>
                <a href="/categories/Geophysics/">
                  <i class="fa fa-commenting-o" aria-hidden="true"></i>
                  皇家地探
                </a>
              </li>
            
              <li>
                <a href="/categories/Coding/">
                  <i class="fa fa-code" aria-hidden="true"></i>
                  快乐码畜
                </a>
              </li>
            
              <li>
                <a href="/categories/Fun/">
                  <i class="fa fa-file-text-o" aria-hidden="true"></i>
                  自娱自乐
                </a>
              </li>
            
          </ul>
        
      </li>
    
  </ul>
  <p style="text-align: center; font-size: 13px; color: #b9b9b9;">&copy 2019 hexo-sakura</p>
</div>
<button onclick="topFunction()" class="mobile-cd-top" id="moblieGoTop" title="Go to top" style="display: none;"><i class="fa fa-chevron-up" aria-hidden="true"></i></button>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
<script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
<!-- require MetingJS -->
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>
<style>
  .aplayer .aplayer-lrc {
    height: 35px;
  }
  .aplayer .aplayer-lrc p{
    font-size: 16px;
    font-weight: 700;
    line-height: 18px !important;
  }
  .aplayer .aplayer-lrc p.aplayer-lrc-current{
    color: #FF1493;
  }
  .aplayer.aplayer-narrow .aplayer-body{
    left: -66px !important;
  }
  .aplayer.aplayer-fixed .aplayer-lrc {
    display: none;
  }
  .aplayer .aplayer-lrc.aplayer-lrc-hide {
      display:none !important;
  }
  .aplayer.aplayer-fixed .lrc-show {
    display: block;
    background: rgba(255, 255, 255, 0.8);
  }
</style>
<meting-js

    id="2660651585"

    server="netease"

    type="playlist"

    fixed="true"

    autoplay="false"

    loop="all"

    order="random"

    preload="auto"

    volume="0.7"

    mutex="true"

</meting-js>
<script>
  $(function(){
    $('body').on('click', '.aplayer', function(){
      if($('.aplayer-button').hasClass('aplayer-play')) {
        $('.aplayer-lrc').removeClass('lrc-show');
      } else {
        $('.aplayer-lrc').addClass('lrc-show');
      }
    })
  });
</script>
</body>
</html>